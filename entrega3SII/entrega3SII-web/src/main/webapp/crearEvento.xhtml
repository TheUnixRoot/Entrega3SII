<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:bnu="http://bootsfaces.net/ui">
    <ui:composition template="Layout.xhtml">
        <ui:define name="pageName">
            Subir Evento
        </ui:define>
        <ui:define name="navBarName">
            <ui:param name="nombrePagina" value="Subir Evento" />
        </ui:define><ui:define name="cuerpo">
            <section id="cuerpo">
                <p:layout fullPage="false">
                    <p:layoutUnit position="center" closable="false" collapsible="false" resizable="false">
                        <h:form>
                        <p:commandLink value="Si ocurre en otro lugar, por favor, pulse aqui para aÃ±adirlo antes de subir su evento" 
                                       style="color: #cc0000; font-size: larger; text-decoration: none"
                                           action="#{navigationBean.goTo('crearLugar.xhtml')}"/>
                        </h:form>
                        <h:form enctype="multipart/form-data" id="crearEvento">

                            <p:panelGrid columns="1" layout="grid" >
                                <p:growl id="messages" showDetail="true" />
                                <p:fileUpload skinSimple="true" mode="simple" value="#{crearEventoBean.file}"/>
                            </p:panelGrid>
                            
                            <p:panelGrid  columns="2" layout="grid">

                                <p:outputLabel id="nombre" value="Nombre:"/> 
                                <p:inputText value="#{crearEventoBean.nombre}" required="true" requiredMessage="El campo no puede estar vacio"/>

                                <p:outputLabel value="Lugar:"/>
                                <p:selectOneMenu id="lugar" value="#{crearEventoBean.ocurre_in}" required="true" requiredMessage="El campo no puede estar vacio">
                                    <f:selectItems  value="#{crearEventoBean.lugares}"  var="lgr" itemLabel="#{lgr.nombre}" itemValue="#{lgr.nombre}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Precio:"/>
                                <p:inputNumber id="precio" value="#{crearEventoBean.precio}" required="true" requiredMessage="El campo no puede estar vacio"/>


                                <p:outputLabel value="Donde comprar entradas:" />
                                <p:inputText id="url" value="#{crearEventoBean.donde_comprar}" required="true" requiredMessage="El campo no puede estar vacio">

                                </p:inputText>


                                <p:outputLabel value="Descripcion:"/>
                                <p:inputTextarea id="descripcion" value="#{crearEventoBean.descripcion}" required="true" requiredMessage="El campo no puede estar vacio"/>

                                <p:outputLabel value="Tags:" />
                                <p:inputText value="#{crearEventoBean.tags}" placeholder="Introduzca las etiquetas del evento separadas por , " />

                                <p:outputLabel value="Fecha inicio:"/>
                                <p:calendar  mode="inline" id="fechai" value="#{crearEventoBean.fecha_inicio}" required="true" requiredMessage="El campo no puede estar vacio"/>

                                <p:outputLabel value="Fecha fin:"/>
                                <p:calendar  mode="inline" id="fechaf" value="#{crearEventoBean.fecha_fin}"/>

                                <p:outputLabel  value="Hora:" />
                                <p:calendar id="hora" value="#{crearEventoBean.hora}" pattern="HH:mm" timeOnly="true" required="true" requiredMessage="El campo no puede estar vacio"  />

                                <p:commandButton value="Enviar" ajax="false" action="#{crearEventoBean.insertarEvento()}"/>

                            </p:panelGrid>
                        </h:form>
                        <p:growl id="mensaje" autoUpdate="true"/> 
                    </p:layoutUnit>
                </p:layout>
            </section>
        </ui:define>
    </ui:composition>
</html>

